"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[367],{38862:function(he,I,e){e.r(I),e.d(I,{default:function(){return se}});var L=e(15009),d=e.n(L),M=e(97857),D=e.n(M),G=e(99289),h=e.n(G),b=e(5574),R=e.n(b),H=e(37476),x=e(5966),J=e(86615),K=e(90930),N=e(12),v=e(68872),Q=e(28248),w=e(78957),T=e(83062),P=e(83622),U=e(67294),V=e(11475),Y=e(86548),W=e(29817),X=e(57132),k=e(30518),q=e(54683),E=e(87103),_=200,ee=401,O=e(85645),re=O.MU,A="";/:/i.test(window.location.host)?A="http://"+window.location.hostname+":"+re:A="http://"+window.location.host;var B=q.Z.create({baseURL:A,timeout:3e4,withCredentials:!0});B.interceptors.request.use(function(a){return(0,E.LP)()&&(a.headers[O.B1]=(0,E.LP)()),a},function(a){return Promise.reject(a)}),B.interceptors.response.use(function(a){if(!a.data){v.ZP.error("\u670D\u52A1\u5668\u7F3A\u5C11\u54CD\u5E94\u6570\u636E");return}var l=a.data,p=l.code,j=l.message;return p===ee?((0,E.LP)()&&(0,E.gy)(),k.history.push(O.wm),Promise.reject(j)):(p!==_&&j&&v.ZP.error(j),a.data)},function(a){return console.log(a.response),v.ZP.error("\u670D\u52A1\u5668\u54CD\u5E94\u9519\u8BEF"),Promise.reject(a)});var f=B,C={demo1:function(){return f({url:"/demo1",method:"GET"})},demo2:function(l){return f({url:"/demo2/"+l,method:"GET"})},demo3:function(l,p,j){return f({url:"/demo3",method:"GET",params:{arg1:l,arg2:p,arg3:j}})},demo4:function(l){return f({url:"/demo4/"+l,method:"POST"})},demo5:function(l){return f({url:"/demo5",method:"POST",data:l})},getUserList:function(l){return f({url:"/demo/getUserList",method:"POST",data:l})},addUser:function(l){return f({url:"/demo/addUser",method:"POST",data:l})},deleteUser:function(l){return f({url:"/demo/deleteUser/"+l,method:"POST"})},updateUser:function(l){return f({url:"/demo/updateUser",method:"POST",data:l})}},te=e(96486),ne=e(20640),ae=e.n(ne),r=e(85893),ue=function(){var l=(0,U.useState)(!1),p=R()(l,2),j=p[0],F=p[1],le=(0,U.useState)(null),$=R()(le,2),ie=$[0],z=$[1],S=(0,U.useRef)(),Z=(0,U.useRef)(),de=function(){var o=h()(d()().mark(function u(n){var m;return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return z("\u7F16\u8F91"),t.next=3,F(!0);case 3:n&&((m=Z.current)===null||m===void 0||m.setFieldsValue(D()({},n)));case 4:case"end":return t.stop()}},u)}));return function(n){return o.apply(this,arguments)}}(),oe=function(){var o=h()(d()().mark(function u(n){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(0,te.isUndefined)(n.id)){s.next=4;break}return s.next=3,C.addUser(n).then(function(t){var i;if(t!=null&&t.success){var c;v.ZP.success("\u65B0\u589E\u6210\u529F"),(c=S.current)===null||c===void 0||c.reload()}F(!1),(i=Z.current)===null||i===void 0||i.resetFields()});case 3:return s.abrupt("return",s.sent);case 4:return s.next=6,C.updateUser(n).then(function(t){var i;if(t!=null&&t.success){var c;v.ZP.success("\u7F16\u8F91\u6210\u529F"),(c=S.current)===null||c===void 0||c.reload()}F(!1),(i=Z.current)===null||i===void 0||i.resetFields()});case 6:return s.abrupt("return",s.sent);case 7:case"end":return s.stop()}},u)}));return function(n){return o.apply(this,arguments)}}(),ce=function(u){Q.Z.confirm({icon:(0,r.jsx)(V.Z,{}),content:"\u8BF7\u518D\u6B21\u786E\u8BA4\u662F\u5426\u5220\u9664\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var n=h()(d()().mark(function s(){return d()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,C.deleteUser(u).then(function(c){if(c!=null&&c.success){var y;v.ZP.success("\u5220\u9664\u6210\u529F\uFF01"),(y=S.current)===null||y===void 0||y.reload()}});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},s)}));function m(){return n.apply(this,arguments)}return m}()})},me=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,r.jsx)("b",{children:"\u7528\u6237\u540D"}),dataIndex:"username"},{title:(0,r.jsx)("b",{children:"\u6635\u79F0"}),dataIndex:"nickname",hideInSearch:!0},{title:(0,r.jsx)("b",{children:"\u624B\u673A\u53F7"}),dataIndex:"phone",copyable:!0,hideInSearch:!0},{title:(0,r.jsx)("b",{children:"\u7535\u5B50\u90AE\u7BB1"}),dataIndex:"email",copyable:!0,ellipsis:!0,tip:"\u90AE\u7BB1\u8FC7\u957F\u5C06\u81EA\u52A8\u6536\u7F29",hideInSearch:!0},{title:(0,r.jsx)("b",{children:"\u6027\u522B"}),dataIndex:"gender",valueEnum:{\u7537:{text:"\u7537"},\u5973:{text:"\u5973"}},filters:[{text:"\u7537",value:"\u7537"},{text:"\u5973",value:"\u5973"}],onFilter:function(u,n){return n.gender===u},hideInSearch:!0},{title:(0,r.jsx)("b",{children:"\u521B\u5EFA\u65F6\u95F4"}),dataIndex:"createTime",hideInSearch:!0},{title:(0,r.jsx)("b",{children:"\u64CD\u4F5C"}),align:"center",hideInSearch:!0,render:function(u,n){return(0,r.jsxs)(w.Z,{size:"middle",children:[(0,r.jsx)(T.Z,{title:"\u7F16\u8F91",children:(0,r.jsx)(P.ZP,{icon:(0,r.jsx)(Y.Z,{}),onClick:h()(d()().mark(function m(){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(n);case 2:case"end":return t.stop()}},m)}))})}),(0,r.jsx)(T.Z,{title:"\u5220\u9664",children:(0,r.jsx)(P.ZP,{icon:(0,r.jsx)(W.Z,{}),onClick:h()(d()().mark(function m(){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ce(n.id);case 1:case"end":return t.stop()}},m)}))})})]})}}],fe=(0,r.jsxs)(H.Y,{title:ie,visible:j,formRef:Z,onFinish:function(){var o=h()(d()().mark(function u(n){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,oe(n);case 2:case"end":return s.stop()}},u)}));return function(u){return o.apply(this,arguments)}}(),modalProps:{maskClosable:!0,centered:!0,onCancel:function(){var u;F(!1),(u=Z.current)===null||u===void 0||u.resetFields()},width:500},children:[(0,r.jsx)(x.Z,{name:"id",hidden:!0}),(0,r.jsx)(x.Z,{name:"username",label:"\u7528\u6237\u540D",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]}),(0,r.jsx)(x.Z,{name:"nickname",label:"\u6635\u79F0",placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6635\u79F0"}]}),(0,r.jsx)(x.Z,{name:"phone",label:"\u624B\u673A\u53F7",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",rules:[{message:"\u624B\u673A\u53F7\u683C\u5F0F\u6709\u8BEF",pattern:/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,validateTrigger:"onBlur"}]}),(0,r.jsx)(x.Z,{name:"email",label:"\u90AE\u7BB1",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",rules:[{message:"\u90AE\u7BB1\u683C\u5F0F\u6709\u8BEF",pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,validateTrigger:"onBlur"}]}),(0,r.jsx)(J.Z.Group,{name:"gender",label:"\u6027\u522B",radioType:"button",options:[{id:1,label:"\u7537",value:"\u7537"},{id:2,label:"\u5973",value:"\u5973"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B"}]})]});return(0,r.jsxs)(K._z,{children:[(0,r.jsx)(N.Z,{rowKey:"id",columns:me,request:function(){var o=h()(d()().mark(function u(n,m,s){var t,i,c;return d()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,C.getUserList(n);case 2:if(t=g.sent,i=t.success,c=t.data,!i){g.next=7;break}return g.abrupt("return",{data:c,success:!0});case 7:case"end":return g.stop()}},u)}));return function(u,n,m){return o.apply(this,arguments)}}(),headerTitle:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(P.ZP,{type:"primary",onClick:h()(d()().mark(function o(){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:z("\u65B0\u589E"),F(!0);case 2:case"end":return n.stop()}},o)})),children:"\u65B0\u589E"}),(0,r.jsxs)("div",{style:{color:"red"},children:["\u6CE8\u610F\uFF1A\u4E1A\u52A1\u793A\u4F8B\u4F7F\u7528\u4E86\u771F\u5B9E\u63A5\u53E3\uFF0Cjar\u5305\u4F4D\u4E8E\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u7684demo-2.0.jar\uFF0C\u901A\u8FC7",(0,r.jsx)(T.Z,{title:"\u590D\u5236",children:(0,r.jsxs)(P.ZP,{type:"text",onClick:function(){ae()("java -jar demo-2.0.jar"),v.ZP.success("\u590D\u5236\u6210\u529F")},children:[(0,r.jsx)("a",{children:"java -jar demo-2.0.jar"}),"\xA0",(0,r.jsx)(X.Z,{})]})}),"\uFF0C\u5373\u53EF\u542F\u52A8"]})]}),actionRef:S,size:"small",options:!1,search:{filterType:"light"},tableAlertRender:!1,cardProps:!0,bordered:!1,pagination:{defaultPageSize:10,pageSizeOptions:[10,30,50,100],showSizeChanger:!0,showQuickJumper:!0}}),fe]})},se=ue}}]);
