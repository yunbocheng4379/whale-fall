"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[437],{86615:function(De,X,n){var j=n(1413),F=n(45987),G=n(22270),$=n(78045),k=n(67294),i=n(90789),oe=n(22876),B=n(85893),J=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],p=k.forwardRef(function(Z,C){var b=Z.fieldProps,T=Z.options,u=Z.radioType,f=Z.layout,r=Z.proFieldProps,S=Z.valueEnum,c=(0,F.Z)(Z,J);return(0,B.jsx)(oe.Z,(0,j.Z)((0,j.Z)({valueType:u==="button"?"radioButton":"radio",ref:C,valueEnum:(0,G.h)(S,void 0)},c),{},{fieldProps:(0,j.Z)({options:T,layout:f},b),proFieldProps:r,filedConfig:{customLightMode:!0}}))}),g=k.forwardRef(function(Z,C){var b=Z.fieldProps,T=Z.children;return(0,B.jsx)($.ZP,(0,j.Z)((0,j.Z)({},b),{},{ref:C,children:T}))}),H=(0,i.G)(g,{valuePropName:"checked",ignoreWidth:!0}),R=H;R.Group=p,R.Button=$.ZP.Button,R.displayName="ProFormComponent",X.Z=R},5966:function(De,X,n){var j=n(97685),F=n(1413),G=n(45987),$=n(21770),k=n(23323),i=n(55241),oe=n(98423),B=n(67294),J=n(22876),p=n(85893),g=["fieldProps","proFieldProps"],H=["fieldProps","proFieldProps"],R="text",Z=function(f){var r=f.fieldProps,S=f.proFieldProps,c=(0,G.Z)(f,g);return(0,p.jsx)(J.Z,(0,F.Z)({valueType:R,fieldProps:r,filedConfig:{valueType:R},proFieldProps:S},c))},C=function(f){var r=(0,$.Z)(f.open||!1,{value:f.open,onChange:f.onOpenChange}),S=(0,j.Z)(r,2),c=S[0],q=S[1];return(0,p.jsx)(k.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(ne){var A,re=ne.getFieldValue(f.name||[]);return(0,p.jsx)(i.Z,(0,F.Z)((0,F.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return q(e)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[(A=f.statusRender)===null||A===void 0?void 0:A.call(f,re),f.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:f.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},f.popoverProps),{},{open:c,children:f.children}))}})},b=function(f){var r=f.fieldProps,S=f.proFieldProps,c=(0,G.Z)(f,H),q=(0,B.useState)(!1),ee=(0,j.Z)(q,2),ne=ee[0],A=ee[1];return r!=null&&r.statusRender&&c.name?(0,p.jsx)(C,{name:c.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:ne,onOpenChange:A,children:(0,p.jsx)("div",{children:(0,p.jsx)(J.Z,(0,F.Z)({valueType:"password",fieldProps:(0,F.Z)((0,F.Z)({},(0,oe.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(V){var e;r==null||(e=r.onBlur)===null||e===void 0||e.call(r,V),A(!1)},onClick:function(V){var e;r==null||(e=r.onClick)===null||e===void 0||e.call(r,V),A(!0)}}),proFieldProps:S,filedConfig:{valueType:R}},c))})}):(0,p.jsx)(J.Z,(0,F.Z)({valueType:"password",fieldProps:r,proFieldProps:S,filedConfig:{valueType:R}},c))},T=Z;T.Password=b,T.displayName="ProFormComponent",X.Z=T},50727:function(De,X,n){var j=n(4942),F=n(97685),G=n(45987),$=n(74165),k=n(15861),i=n(1413),oe=n(24969),B=n(97462),J=n(952),p=n(89451),g=n(48171),H=n(53914),R=n(22270),Z=n(60249),C=n(83622),b=n(23323),T=n(21770),u=n(88306),f=n(8880),r=n(67294),S=n(12),c=n(85893),q=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],ee=["record","position","creatorButtonText","newRecordType","parentKey","style"],ne=r.createContext(void 0);function A(e){var L=e.children,w=e.record,le=e.position,ie=e.newRecordType,N=e.parentKey,ue=(0,r.useContext)(ne);return r.cloneElement(L,(0,i.Z)((0,i.Z)({},L.props),{},{onClick:function(){var te=(0,k.Z)((0,$.Z)().mark(function he(Ee){var fe,Pe,z,Y;return(0,$.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(fe=(Pe=L.props).onClick)===null||fe===void 0?void 0:fe.call(Pe,Ee);case 2:if(Y=E.sent,Y!==!1){E.next=5;break}return E.abrupt("return");case 5:ue==null||(z=ue.current)===null||z===void 0||z.addEditRecord(w,{position:le,newRecordType:ie,parentKey:N});case 6:case"end":return E.stop()}},he)}));function y(he){return te.apply(this,arguments)}return y}()}))}function re(e){var L,w,le=(0,p.YB)(),ie=e.onTableChange,N=e.maxLength,ue=e.formItemProps,te=e.recordCreatorProps,y=e.rowKey,he=e.controlled,Ee=e.defaultValue,fe=e.onChange,Pe=e.editableFormRef,z=(0,G.Z)(e,q),Y=(0,r.useRef)(void 0),de=(0,r.useRef)(),E=(0,r.useRef)();(0,r.useImperativeHandle)(z.actionRef,function(){return de.current},[de.current]);var O=(0,T.Z)(function(){return e.value||Ee||[]},{value:e.value,onChange:e.onChange}),P=(0,F.Z)(O,2),d=P[0],Q=P[1],x=r.useMemo(function(){return typeof y=="function"?y:function(v,h){return v[y]||h}},[y]),K=(0,g.J)(function(v){if(typeof v=="number"&&!e.name){if(v>=d.length)return v;var h=d&&d[v];return x==null?void 0:x(h,v)}if((typeof v=="string"||v>=d.length)&&e.name){var a=d.findIndex(function(t,l){var o;return(x==null||(o=x(t,l))===null||o===void 0?void 0:o.toString())===(v==null?void 0:v.toString())});if(a!==-1)return a}return v});(0,r.useImperativeHandle)(Pe,function(){var v=function(t){var l,o;if(t==null)throw new Error("rowIndex is required");var s=K(t),m=[e.name,(l=s==null?void 0:s.toString())!==null&&l!==void 0?l:""].flat(1).filter(Boolean);return(o=E.current)===null||o===void 0?void 0:o.getFieldValue(m)},h=function(){var t,l=[e.name].flat(1).filter(Boolean);if(Array.isArray(l)&&l.length===0){var o,s=(o=E.current)===null||o===void 0?void 0:o.getFieldsValue();return Array.isArray(s)?s:Object.keys(s).map(function(m){return s[m]})}return(t=E.current)===null||t===void 0?void 0:t.getFieldValue(l)};return(0,i.Z)((0,i.Z)({},E.current),{},{getRowData:v,getRowsData:h,setRowData:function(t,l){var o,s;if(t==null)throw new Error("rowIndex is required");var m=K(t),M=[e.name,(o=m==null?void 0:m.toString())!==null&&o!==void 0?o:""].flat(1).filter(Boolean),me=Object.assign({},(0,i.Z)((0,i.Z)({},v(t)),l||{})),U=(0,f.Z)({},M,me);return(s=E.current)===null||s===void 0||s.setFieldsValue(U),!0}})},[K,e.name,E.current]),(0,r.useEffect)(function(){e.controlled&&(d||[]).forEach(function(v,h){var a;(a=E.current)===null||a===void 0||a.setFieldsValue((0,j.Z)({},"".concat(x(v,h)),v))},{})},[(0,H.ZP)(d),e.controlled]),(0,r.useEffect)(function(){if(e.name){var v;E.current=e==null||(v=e.editable)===null||v===void 0?void 0:v.form}},[(L=e.editable)===null||L===void 0?void 0:L.form,e.name]);var D=te||{},_=D.record,I=D.position,se=D.creatorButtonText,ae=D.newRecordType,W=D.parentKey,ve=D.style,pe=(0,G.Z)(D,ee),ge=I==="top",ce=(0,r.useMemo)(function(){return typeof N=="number"&&N<=(d==null?void 0:d.length)?!1:te!==!1&&(0,c.jsx)(A,{record:(0,R.h)(_,d==null?void 0:d.length,d)||{},position:I,parentKey:(0,R.h)(W,d==null?void 0:d.length,d),newRecordType:ae,children:(0,c.jsx)(C.ZP,(0,i.Z)((0,i.Z)({type:"dashed",style:(0,i.Z)({display:"block",margin:"10px 0",width:"100%"},ve),icon:(0,c.jsx)(oe.Z,{})},pe),{},{children:se||le.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[te,N,d==null?void 0:d.length]),Re=(0,r.useMemo)(function(){return ce?ge?{components:{header:{wrapper:function(h){var a,t=h.className,l=h.children;return(0,c.jsxs)("thead",{className:t,children:[l,(0,c.jsxs)("tr",{style:{position:"relative"},children:[(0,c.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ce}),(0,c.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(a=z.columns)===null||a===void 0?void 0:a.length,children:ce})]})]})}}}}:{tableViewRender:function(h,a){var t,l;return(0,c.jsxs)(c.Fragment,{children:[(t=(l=e.tableViewRender)===null||l===void 0?void 0:l.call(e,h,a))!==null&&t!==void 0?t:a,ce]})}}:{}},[ge,ce]),Ce=(0,i.Z)({},e.editable),xe=(0,g.J)(function(v,h){var a,t,l;if((a=e.editable)===null||a===void 0||(t=a.onValuesChange)===null||t===void 0||t.call(a,v,h),(l=e.onValuesChange)===null||l===void 0||l.call(e,h,v),e.controlled){var o;e==null||(o=e.onChange)===null||o===void 0||o.call(e,h)}});return(e!=null&&e.onValuesChange||(w=e.editable)!==null&&w!==void 0&&w.onValuesChange||e.controlled&&e!==null&&e!==void 0&&e.onChange)&&(Ce.onValuesChange=xe),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ne.Provider,{value:de,children:(0,c.jsx)(S.Z,(0,i.Z)((0,i.Z)((0,i.Z)({search:!1,options:!1,pagination:!1,rowKey:y,revalidateOnFocus:!1},z),Re),{},{tableLayout:"fixed",actionRef:de,onChange:ie,editable:(0,i.Z)((0,i.Z)({},Ce),{},{formProps:(0,i.Z)({formRef:E},Ce.formProps)}),dataSource:d,onDataSourceChange:function(h){if(Q(h),e.name&&I==="top"){var a,t=(0,f.Z)({},[e.name].flat(1).filter(Boolean),h);(a=E.current)===null||a===void 0||a.setFieldsValue(t)}}}))}),e.name?(0,c.jsx)(B.Z,{name:[e.name],children:function(h){var a,t;if(!Y.current)return Y.current=d,null;var l=(0,u.Z)(h,[e.name].flat(1)),o=l==null?void 0:l.find(function(s,m){var M;return!(0,Z.A)(s,(M=Y.current)===null||M===void 0?void 0:M[m])});return Y.current=d,o&&(e==null||(a=e.editable)===null||a===void 0||(t=a.onValuesChange)===null||t===void 0||t.call(a,o,l)),null}}):null]})}function V(e){var L=J.ZP.useFormInstance();return e.name?(0,c.jsx)(b.Z.Item,(0,i.Z)((0,i.Z)({style:{maxWidth:"100%"},shouldUpdate:function(le,ie){var N=[e.name].flat(1);try{return JSON.stringify((0,u.Z)(le,N))!==JSON.stringify((0,u.Z)(ie,N))}catch(ue){return!0}}},e==null?void 0:e.formItemProps),{},{name:e.name,children:(0,c.jsx)(re,(0,i.Z)((0,i.Z)({tableLayout:"fixed",scroll:{x:"max-content"}},e),{},{editable:(0,i.Z)((0,i.Z)({},e.editable),{},{form:L})}))})):(0,c.jsx)(re,(0,i.Z)({tableLayout:"fixed",scroll:{x:"max-content"}},e))}V.RecordCreator=A,X.Z=V},29140:function(De,X,n){n.r(X),n.d(X,{default:function(){return E}});var j=n(19632),F=n.n(j),G=n(97857),$=n.n(G),k=n(15009),i=n.n(k),oe=n(99289),B=n.n(oe),J=n(5574),p=n.n(J),g=n(67294),H=n(45029),R=n(5966),Z=n(86615),C=n(1413),b=n(45987),T=n(22876),u=n(85893),f=["fieldProps","min","proFieldProps","max"],r=function(P,d){var Q=P.fieldProps,x=P.min,K=P.proFieldProps,D=P.max,_=(0,b.Z)(P,f);return(0,u.jsx)(T.Z,(0,C.Z)({valueType:"digit",fieldProps:(0,C.Z)({min:x,max:D},Q),ref:d,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:K},_))},S=g.forwardRef(r),c=S,q=n(22270),ee=n(66758),ne=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],re=function(P,d){var Q=P.fieldProps,x=P.children,K=P.params,D=P.proFieldProps,_=P.mode,I=P.valueEnum,se=P.request,ae=P.showSearch,W=P.options,ve=(0,b.Z)(P,ne),pe=(0,g.useContext)(ee.Z);return(0,u.jsx)(T.Z,(0,C.Z)((0,C.Z)({valueEnum:(0,q.h)(I),request:se,params:K,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({options:W,mode:_,showSearch:ae,getPopupContainer:pe.getPopupContainer},Q),ref:d,proFieldProps:D},ve),{},{children:x}))},V=g.forwardRef(function(O,P){var d=O.fieldProps,Q=O.children,x=O.params,K=O.proFieldProps,D=O.mode,_=O.valueEnum,I=O.request,se=O.options,ae=(0,b.Z)(O,A),W=(0,C.Z)({options:se,mode:D||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},d),ve=(0,g.useContext)(ee.Z);return(0,u.jsx)(T.Z,(0,C.Z)((0,C.Z)({valueEnum:(0,q.h)(_),request:I,params:x,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({getPopupContainer:ve.getPopupContainer},W),ref:P,proFieldProps:K},ae),{},{children:Q}))}),e=g.forwardRef(re),L=V,w=e;w.SearchSelect=L,w.displayName="ProFormComponent";var le=w,ie=n(50727),N=n(90930),ue=n(88245),te=n(83062),y=n(83622),he=n(28248),Ee=n(68872),fe=n(78957),Pe=n(86548),z=n(29817),Y=[{id:1,networkSegment:"10.10.10.1/24"},{id:2,networkSegment:"10.11.12.1/30"}],de=function(){var P=(0,g.useState)(!1),d=p()(P,2),Q=d[0],x=d[1],K=(0,g.useState)(Y),D=p()(K,2),_=D[0],I=D[1],se=(0,g.useState)([]),ae=p()(se,2),W=ae[0],ve=ae[1],pe=(0,g.useState)({}),ge=p()(pe,2),ce=ge[0],Re=ge[1],Ce=(0,g.useRef)(),xe=(0,g.useRef)(),v=[{title:"\u7F51\u6BB5",dataIndex:"networkSegment",align:"center",valueType:"input",tooltip:"\u793A\u4F8B\uFF1A10.10.10.x/24",copyable:!0,formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"},{message:"\u8BF7\u6309\u7167\u7F51\u6BB5\u89C4\u5219\u586B\u5199\uFF0C\u63A9\u7801\u4F4D\u6570\u8303\u56F4[24,30]",pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\/(2[4-9]|30)$/,validateTrigger:"onBlur"}]}}},{title:"\u64CD\u4F5C",align:"center",valueType:"option",render:function(t,l,o,s){return[(0,u.jsx)(te.Z,{title:"\u7F16\u8F91",children:(0,u.jsx)(y.ZP,{icon:(0,u.jsx)(Pe.Z,{}),onClick:B()(i()().mark(function m(){var M;return i()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:s==null||(M=s.startEditable)===null||M===void 0||M.call(s,l.id);case 1:case"end":return U.stop()}},m)}))})},"edit"),(0,u.jsx)(te.Z,{title:"\u5220\u9664",children:(0,u.jsx)(y.ZP,{icon:(0,u.jsx)(z.Z,{}),onClick:B()(i()().mark(function m(){return i()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:I(_.filter(function(U){return U.id!==l.id}));case 1:case"end":return me.stop()}},m)}))})},"delete")]}}],h=(0,u.jsx)(he.Z,{title:"\u590D\u6742Modal\u8868\u5355",open:Q,maskClosable:!0,centered:!0,footer:[],destroyOnClose:!0,width:600,onCancel:function(){x(!1)},children:(0,u.jsxs)(H.L0,{formRef:Ce,onFinish:function(){var a=B()(i()().mark(function t(l){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:Re($()($()({},l),{},{editableDataSource:_})),x(!1),Ee.ZP.success("\u63D0\u4EA4\u6210\u529F");case 3:case"end":return s.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),submitter:{render:function(t){return t.step===0?(0,u.jsx)(y.ZP,{type:"primary",onClick:function(){var o;return(o=t.onSubmit)===null||o===void 0?void 0:o.call(t)},children:"\u4E0B\u4E00\u6B65"}):[(0,u.jsx)(y.ZP,{onClick:function(){var o;W.length>0&&W.map(function(s){var m;(m=xe.current)===null||m===void 0||m.cancelEditable(s)}),(o=t.onPre)===null||o===void 0||o.call(t)},children:"\u4E0A\u4E00\u6B65"},"last"),(0,u.jsx)(y.ZP,{type:"primary",onClick:function(){var o;W.length>0&&W.map(function(s){var m;(m=xe.current)===null||m===void 0||m.cancelEditable(s)}),(o=t.onSubmit)===null||o===void 0||o.call(t)},children:"\u63D0\u4EA4"},"submit")]}},children:[(0,u.jsxs)(H.L0.StepForm,{title:"\u6B65\u9AA4\u4E00",children:[(0,u.jsx)(R.Z,{name:"id",hidden:!0}),(0,u.jsx)(R.Z,{name:"name",label:"\u59D3\u540D",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D"}]}),(0,u.jsx)(Z.Z.Group,{name:"gender",label:"\u6027\u522B",radioType:"button",options:[{id:1,label:"\u7537",value:"man"},{id:2,label:"\u5973",value:"woman"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B"}]}),(0,u.jsx)(c,{name:"age",label:"\u5E74\u9F84",fieldProps:{min:1,max:120},placeholder:"1\u81F3120\u4E4B\u95F4",rules:[{required:!0,message:"\u8BF7\u5B8C\u5584\u5E74\u9F84\u4FE1\u606F"}]}),(0,u.jsx)(le,{name:"address",label:"\u5C45\u4F4F\u7701\u4EFD",placeholder:"\u8BF7\u9009\u62E9\u5C45\u4F4F\u7701\u4EFD",options:[{id:1,label:"\u5317\u4EAC\u5E02",value:"beijing"},{id:2,label:"\u6CB3\u5317",value:"hebei"},{id:3,label:"\u5929\u6D25",value:"tianjin"}],showSearch:!0,allowClear:!0,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5C45\u4F4F\u7701\u4EFD"}]})]}),(0,u.jsx)(H.L0.StepForm,{title:"\u6B65\u9AA4\u4E8C",children:(0,u.jsx)(ie.Z,{rowKey:"id",columns:v,value:_,actionRef:xe,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",recordCreatorProps:{record:function(){return{id:parseInt((Math.random()*1e5).toFixed(0))}},creatorButtonText:"\u6DFB\u52A0\u7F51\u6BB5"},maxLength:10,cardProps:!1,pagination:!1,editable:{type:"multiple",editableKeys:W,onChange:ve,onlyAddOneLineAlertMessage:"\u8BF7\u5148\u4FDD\u5B58\u4E0A\u4E00\u884C\u6570\u636E\uFF0C\u518D\u8FDB\u884C\u65B0\u589E",onDelete:function(){var a=B()(i()().mark(function l(o){return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:I(_.filter(function(M){return M.id!==o}));case 1:case"end":return m.stop()}},l)}));function t(l){return a.apply(this,arguments)}return t}(),onSave:function(){var a=B()(i()().mark(function l(o,s,m){var M;return i()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:M=_.find(function(Ze){return Ze.id===o}),I(M?_.map(function(Ze){return Ze.id===s.id?s:Ze}):[].concat(F()(_),[s]));case 2:case"end":return U.stop()}},l)}));function t(l,o,s){return a.apply(this,arguments)}return t}()}})})]})});return(0,u.jsxs)(N._z,{children:[(0,u.jsxs)(fe.Z,{direction:"vertical",children:[(0,u.jsx)(y.ZP,{type:"primary",onClick:function(){return x(!0)},children:"\u590D\u6742Modal\u8868\u5355\uFF08\u5206\u6B65+\u53EF\u7F16\u8F91\u8868\u683C\uFF09"}),(0,u.jsx)(ue.Z,{title:"\u67E5\u770B\u63D0\u4EA4\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(T.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(ce)})})]}),h]})},E=de}}]);
